define("local_trustgrade/submission_processing",["jquery","core/templates","core/str"],($,Templates,Str)=>({cmid:0,submissionId:0,processingOverlay:null,statusCheckInterval:null,init:function(cmid){this.cmid=cmid,this.bindSubmissionEvents()},bindSubmissionEvents:function(){$(document).ready(()=>{var $forms=$('form[action*="editsubmission"], form.mform, #region-main form');$forms.length>0&&$forms.on("submit",e=>{this.showProcessingMessage()})})},showProcessingMessage:function(){Str.get_strings([{key:"processing_submission",component:"local_trustgrade"},{key:"processing_submission_message",component:"local_trustgrade"}]).then(strings=>{var context={title:strings[0],message:strings[1],spinner_class:"fa fa-spinner fa-spin"};return Templates.render("local_trustgrade/submission_processing_overlay",context)}).then(html=>{$("#submission-processing-overlay").remove(),$("body").append(html),$("body").css("overflow","hidden")}).catch(error=>{console.error("Error rendering submission processing overlay:",error),this.showFallbackProcessingMessage()})},showFallbackProcessingMessage:()=>{$("#submission-processing-overlay").remove(),$("body").append('<div id="submission-processing-overlay" class="submission-processing-overlay"><div class="processing-modal"><div class="spinner-container"><i class="fa fa-spinner fa-spin" aria-hidden="true"></i></div><h3 class="processing-title">Processing...</h3><p class="processing-message">Please wait while we process your submission...</p></div></div>'),$("body").css("overflow","hidden")},hideProcessingMessage:()=>{$("#submission-processing-overlay").remove(),$("body").css("overflow","")}}));

//# sourceMappingURL=submission_processing.min.js.map